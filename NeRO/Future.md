# 科研可行性与战略分析报告

## 1. 摘要

在 2021-2025 年间，神经辐射场（NeRF）技术经历了从“新视角合成”到“高精度表面重建”的演变。根据 Xiao et al. (2025) 在 *"Neural Radiance Fields for the Real World"* 中的最新综述指出，尽管几何重建精度已大幅提升，但现有 SOTA 方法（如 NeRO, Neuralangelo）在处理**透明、半透明、混浊液体及多层介质**时仍存在理论缺陷——它们过度依赖“不透明表面假设”。

本报告论证了 **“基于概率化混合机制的通用物理逆渲染”** 方案的可行性。我们认为，可以在 3D Gaussian Splatting (3DGS) 垄断实时渲染赛道的当下，**注重“物理一致性、可解释性与复杂材质解耦”**。

本方案的核心价值在于：**不考虑与 3DGS 竞争速度，而是建立一套统一的光学表达，解决工业、医疗及高端内容生成中“物理仿真”的刚需。**

## 2. 核心价值研判

### 2.1 痛点分析

目前的 NeRF/SDF 方法虽然能重建出很好的几何，但本质上是在做“表面拟合”，仍假设场景为“不透明表面”。

* **无法处理**：玉石/皮肤的次表面散射（SSS）、玻璃杯的折射与全反射、浑浊液体的体散射、镀膜金属的薄膜干涉。
* **后果**：一旦遇到上述介质，SDF 网络会产生严重的几何塌陷，或将内部光效错误地“烘焙”在表面纹理上，导致无法重光照（Relighting）。

### 2.2 方案意义：填补“光学全机制”的拼图

不是对 NeRO 的修补，而是构建一个**Unified Optical Representation（统一光学表达）**。

* **创新点**：设计一套可微的 **“软语义”选择机制（Soft Gating / Mixture of Experts）**。
* **机制**：网络自动判断光线在空间某点是应遵循 BRDF（表面反射）、BSSRDF（次表面散射）还是 RTE（辐射传输方程）。
* **结论**：这是 Neural Rendering 追求物理真实的方法

## 3. 分析对比 3D Gaussian Splatting (3DGS)

| 维度 | 3D Gaussian Splatting | **本方案** |
| :--- | :--- | :--- |
| **核心目标** | **速度、交互性** (Real-time, Interaction) | **物理精度、可解释性** (Physics, Decomposition) |
| **几何表达** | 离散点云/椭球，表面不连续，难以导出 Mesh | **连续 SDF 隐式表面**，可导出工业级 Mesh |
| **材质处理** | 弱 (SH 系数“烘焙”了光照，无法解耦) | **强** (解耦 BRDF, Roughness, IOR, Extinction) |
| **透明/体积** | 仅支持 Alpha Blending (无法模拟折射/散射) | **原生支持** Ray Tracing (模拟真实折射与光路) |
| **应用场景** | 游戏、VR 漫游、手机端快速扫描 | **电影特效、工业检测、精密制造、医学影像** |

**战略判断**：3DGS 负责“看起来像”（Visualization），我们的方向负责“物理上正确”（Simulation）。工业界（如 NVIDIA Omniverse）的长远目标是两者结合，但**物理模型的准确性是根基**。

## 4. 技术路线可行性与实施细节 (Technical Roadmap)

### 4.1 核心机制：概率化介质判别 (Probabilistic Discrimination)

**Q：如何区分层状、浑浊液、胶体？**

* **策略**：放弃硬编码规则（Hard Rules），采用**数据驱动的概率分布**。
* **实现**：构建一个 Multi-head MLP，输出权重向量 $\mathbf{w} = [w_{surf}, w_{vol}, w_{sss}, w_{layer}]$。
  * **公式退化**：基于广义辐射传输方程（RTE）。当介质密度 $\sigma_t \to \infty$ 时，方程数学上自然退化为表面渲染方程；当 $\sigma_t$ 适中且各向异性 $g$ 很大时，自动退化为浑浊/胶体模型（启用相位函数（Phase Function））。

> 混合专家模型 (Mixture of Experts, MoE)：设计多头网络，输出空间点的材质概率分布（权重向量）。网络自动学习该区域更符合 Surface 模型、Volumetric 模型还是 Layered 模型。

### 4.2 几何精度：Hash Grid 的正确用法

**Q：Hash Grid 是否自适应？是否需要图像锐化？**

* **关于锐化（Sharpening）**：**否定**。
  * **理由**：物理逆渲染的本质是从 2D 图像中“挖掘”真实的物理信号。图像锐化/超分是人为引入高频噪声（Artifacts），这会导致 Hash Grid 拟合出不存在的“伪细节”，破坏物理一致性。
* **自适应策略**：采用 **Coarse-to-Fine + Error-guided Hashing**。
  * 初期 Mask 掉高频 Hash 表。
  * 随着训练进行，统计光度误差（Photometric Error）或 SDF 梯度，仅在**误差大或几何复杂**的区域解锁高分辨率 Hash Entry。

### 4.3 物理先验与传感器增强 (Sensor Fusion)

为了解决单纯 RGB 带来的多解性（Ambiguity），引入低成本物理约束是关键创新：

1. **偏振成像 (Polarization)**：**极高价值**。
    * 利用偏振度（DoP）区分**镜面反射**（通常偏振）与**体散射/漫反射**（通常去偏振）。这是解决“强高光被误判为纹理”的杀手锏。
2. **主动光照 (Active Lighting)**：
    * 引入简单的点光源，利用**光度立体视觉 (Photometric Stereo)** 原理，快速分离 Albedo 和 Normal。
3. **RAW Pipeline**：
    * 必须直接处理 **Linear RAW** 数据，绕过 ISP 的 Tone Mapping，保证光照线性叠加。
    * **HDR**：对于高反差场景（如玻璃高光），采用多曝光合成 HDR 是标准流程。

### 4.4 降质与环境适应性

* **Haze (雾/尘埃)**：不要做图像级去雾。将 Haze 建模为场景中的**均匀参与介质 (Homogeneous Participating Media)**。网络自动学习到环境存在均匀的散射系数后，渲染物体时只需将该项置零，即可实现“通过重建来物理去雾”。
* **运动模糊/失焦**：**忽略**。高精度重建假设输入质量可控（三脚架+高速快门）。我们解决物理材质问题，如果必须处理，这属于次要优化目标（Corner case），可通过物理建模 PSF (Point Spread Function) 解决，但不应作为核心创新点。
* **位姿与边界**：位姿估计继续依赖 COLMAP 或其改进版；无界场景（Unbounded）直接沿用 NeRF++ 或 NeRO 的背景球（Background Sphere）策略。

## 5. 战略优先级

决策公式：通用性 (Generalization) > 物理一致性 (Physics) > 像素级精度 (Accuracy)

1. **首选通用性**：先打通“一套代码处理所有材质”的 Pipeline。（如果模型能自动区分玻璃和陶瓷，这篇论文就是 Top-tier）。
2. **次选物理一致性**：引入 BRDF/BSSRDF 模型，确保分解出的 Albedo 和 Normal 在物理上是解耦的。
3. **最后像素精度**：物理模型对了，精度自然能通过 Hash Grid 和 Loss 调优上去。反之，物理错了，精度再高也是过拟合。

## 6. 应用场景与边界界定 (Scope & Applications)

### 6.1 目标应用 (Target Audience)

* **高端工业检测**：检测半透明胶水气泡、玻璃内应力、金属表面微划痕（LiDAR 失效区）。
* **文化遗产数字化**：故宫玉器、瓷器、琉璃的物理级还原。
* **计算医学**：内窥镜下的人体组织（湿润、半透明）三维重建。
* **AIGC 数据基座**：为 Stable Diffusion 3D 等生成式模型提供带有物理标注（IOR/Roughness）的 Ground Truth 数据，反哺 AIGC。

### 6.2 非目标场景 (Out of Scope)

* **SLAM / 机器人导航**：此类任务重速度和稀疏特征，不是本方案的战场。
* **大尺度遥感 / 城市漫游**：多为漫反射近似，且难以获取多角度高光/透射信息，不具备应用复杂物理模型的条件。

## 7. 结论 (Conclusion)

综上所述，**“基于 NeRO 的复杂介质通用逆渲染”** 响应了 2025 年从几何向物理演进的趋势，在工程上也具备明确的落地场景。

不与 3DGS 竞争“实时渲染”，而是通过**物理先验（偏振/HDR）、混合介质模型与自适应计算**，构建**高精度、可解释、可编辑**的三维重建基座。
